<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Baloo+2|Gotu|Open+Sans|Sen&display=swap" rel="stylesheet">
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>
    <body class = "bodyclass">
        <header class = "headerclass"><h1>Fake ID Generator</h2></header>
        <div class = "container">
            <div class = "leftcontainer">
                 <h2>What is Fake ID Generator?</h2>
                 <p>This site is about generating fake polish ID<br/>
                      you can generate fake information about randomly created people</p><br/>
                <h3>Things that could be generated:</h3>
                <ul>
                    <li>Personal Indetity Number</li>
                    <li>Place of Residance and ZIP-code</li>
                    <li>Date of Birth</li>
                    <li>Phone Number</li>
                </ul>
                <button id = "btn" class = "button">Generate ID</button>
            </div>
            <div class = "rightcontainer">
                <div>
                    <div class = "divlabel">
                        <label class="label" for = "Firstname">First name:</label>
                        <input type = "text" id = "Firstname" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "LastName">Last name:</label>
                        <input type = "text" id = "LastName" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "sex">Gender:</label>
                        <input type = "text" id = "sex" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "Residance">Place of Residance: </label>
                        <input type = "text" id = "Residance" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "Date">Date of birth:</label>
                        <input type = "text" id = "Date" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "PESEL">Personal identity number:</label>
                        <input type = "text" id = "PESEL" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "Phone">Phone number:</label>
                        <input type = "text" id = "Phone" class = "input" readonly/>
                    </div>
                    <div class = "divlabel">
                        <label class="label" for = "email">E-mail address:</label>
                        <input type = "text" id = "email" class = "input" readonly/>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">&copy;Copyright Maciej Giłka</footer>
        <script>
            
                        
            btn.addEventListener("click", function(){
                const Name = document.getElementById('Firstname');
                const LName = document.getElementById('LastName');
                const phone = document.getElementById('Phone');
                const Gender = document.getElementById('sex');
                axios.get('http://127.0.0.1:8080') // tutaj wykonujesz request typu GET do http://127.0.0.1:8080
                    .then(function (response) {
                        // to wykonuje się tylko gdy request do serwera się powiedzie
                        var IDinformation = response.data
                        Name.value = IDinformation.firstname;
                        LName.value = IDinformation.lastname;
                        phone.value = IDinformation.phonenumber;
                        Gender.value = IDinformation.gender;
                        console.log('Dane pobrane z serwera:');
                        console.log(response.data);
                    })
                    .catch(function (error) {
                        // to wykonuje się tylko gdy request do serwera się NIE powiedzie
                        console.log(error);
                    })
                    .finally(function () {
                        // to wykonuje się zawsze, bez względu na catch/then
                    });

            })
        </script>
    </body>
</html>